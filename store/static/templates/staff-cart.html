<div class="add-vertical-spacing"></div>
<div class="container" ng-show="profile.staff">
  <div class="row">
    <h2 style="display: inline-block;"><span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> My Cart</h2>
    <span aria-hidden="true" class="pull-right" ng-click="clear_by_id()" ng-hide="!cart.products[0].order_id"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></span>
    <hr class="large">
    <div class="col-md-4 col-sm-12" ng-repeat="product in cart.products" ng-hide="!cart.products[0].order_id">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <h3 class="panel-title" style="display: inline-block;">{{product.product_name}}</h3>
          <button type="button" class="close pull-right" aria-label="Close" ng-click="remove_item_by_id(product.order_id)"><span aria-hidden="true">&times;</span></button>
        </div>
        <div class="panel-body">
          <dl class="dl-horizontal">
            <dt>Description: </dt>
            <dd>{{product.product_description}}</dd>
            <dt>Price: </dt>
            <dd>{{product.product_price / 100 | currency:"$":2}}</dd>
            <dt>Quantity: </dt>
            <dd>
              <div class="input-group" ng-show="profile.staff">
                <input type="number" class="form-control" id="price" ng-model="product.product_quantity" step="1" min="0">
                <div class="input-group-addon pointer" ng-click="update_by_id(paid, cart.user.id, product.product_quantity, product.order_id)"><span class="glyphicon glyphicon-floppy-save text-primary" aria-hidden="true"></span></div>
              </div>
            </dd>
          </dl>
        </div>
      </div>
    </div>
  </div>
  <div ng-hide="!cart.products[0].order_id">
    <hr class="large">
    <p>Total price: {{totalPrice() / 100 | currency:"$":2}}</p>
    <hr class="large">
    <button class="btn btn-primary center-block" ng-click="checkout()">Checkout <span class="glyphicon glyphicon-check" aria-hidden="true"></span></button>
    <hr class="large">
  </div>
  <div class="row" ng-hide="!!cart.products[0].order_id">
    <div class="col-lg-12 bg-warning">
      <p class="bg-warning"><span class="glyphicon glyphicon-warning-sign" aria-hidden="true"></span> Your cart is empty! Why not do some <a href="/#!/products/">shopping</a>?</p>
    </div>
  </div>
</div>
